TODO: shrXY, sc, elipsy, rewrite as promisses
